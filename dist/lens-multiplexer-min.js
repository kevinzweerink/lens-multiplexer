var Lens=function(e,n,o){this.poles=[],this.name=e,this.controller=o,n&&n.length>0&&(this.poles=n.map(function(e){return e}))};Lens.prototype.addPole=function(e){this.poles.push(e)},Lens.prototype.removePole=function(e){var n=this.poles.indexOf(e);this.poles.splice(n,1)};var Material=function(e,n){this.name=e,this.controller=n,this.lenses=this.controller.generateEmptyLensSchema()};Material.prototype.setValueForPole=function(e,n,o){var t=this.lenses.reduce(function(e,o,t){return o.name===n?t:void 0},-1);if(-1===t)return console.log("Could not set value, lens "+n+" not identified in schema"),!1;var s=this.lenses[t].poles.reduce(function(e,n,t){return n.name===o?t:void 0},-1);-1===s&&console.log("Could not set value, pole "+o+" not identified in lens "+n),this.lenses[n].poles[o].value=e};var Model=function(){this.lenses=[],this.material=[]};Model.prototype.addLens=function(e,n){var o=new Lens(e,n,this);this.lenses.push(o)},Model.prototype.addPoleToLens=function(e,n){if("string"==typeof e){var o=this.lenses.reduce(function(n,o,t){return o.name===e?t:void 0},-1);o>-1&&this.lenses[o].poles.push(n)}};var m=new Model;m.addLens("me/nyt",["me","nyt"]),m.addPoleToLens("me/nyt","cool"),console.log(m);